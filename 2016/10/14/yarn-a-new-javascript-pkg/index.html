<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Yarn - Javascript 新一代套件管理 · 冷子欲-前端博客</title><meta name="description" content="Yarn - Javascript 新一代套件管理 - lengziyu"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://blog.lengziyu.com/atom.xml" title="冷子欲-前端博客"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">Archive</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">Tags</a></li><li class="nav-list-item"><a href="http://lengziyu.com" target="_blank" class="nav-list-link">个人网站</a></li><li class="nav-list-item"><a href="https://github.com/lengziyu" target="_blank" class="nav-list-link">GitHub</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">Rss</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Yarn - Javascript 新一代套件管理</h1><div class="post-info">2016年10月14日<a href="/tags/yarn/" title="yarn" class="post-tag">#yarn</a></div><div class="post-content"><p>日前，Facebook 发布了全新的 JS 套件管理工具 <a href="https://github.com/yarnpkg/yarn" target="_blank" rel="external">Yarn</a>，这是一个新的快速安全可信赖的可以替代NPM的依赖管理工具。<br>在取代npm客户端和其他包管理器现有工作流的同时，又保留了对npm代理的兼容性。它拥有与现有的工作流相同的特性，只是操作起来更快、更安全、更可靠。<br><a id="more"></a></p>
<h2 id="Yarn-提供一个更快更稳定的套件管理方案"><a href="#Yarn-提供一个更快更稳定的套件管理方案" class="headerlink" title="Yarn 提供一个更快更稳定的套件管理方案"></a>Yarn 提供一个更快更稳定的套件管理方案</h2><ol>
<li>透过 yarn.lock ，锁住套件版本，因此可以确保安装之套件在每台机器上都能保持一致。</li>
<li>安装过的套件，都会加入到 global cache 中，下次有砍掉要重装，或是不同资料夹要装，都可以在无网络情況底下安裝。</li>
<li>非常快，平行化处理每个 operation，全新的 resolving 演算法。</li>
</ol>
<h2 id="特性功能"><a href="#特性功能" class="headerlink" title="特性功能"></a>特性功能</h2><p>除了让安装过程更快更可靠，Yarn 还有额外的特性来更好地简化依赖管理的工作流。</p>
<ul>
<li>兼容 npm 和 bower 工作流，并且支持混合注册。</li>
<li>能够限制已安装模块的证书以及输出证书信息。</li>
<li>暴露一个稳定公开的JS API，通过构建工具提供抽象的日志记录。</li>
<li>可读、最小化、良好的命令行输出。</li>
</ul>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">// 以前装过 npm 再安装 yarn</div><div class="line">npm install -g yarn</div><div class="line"><span class="comment"></span></div><div class="line">// 直接安装 (mac为例，其余官网有介绍)</div><div class="line">curl -o- -L <span class="keyword">https</span>://yarnpkg.com/install.sh | bash</div><div class="line"><span class="comment"></span></div><div class="line">// 一般安装 (等同 npm install)</div><div class="line">yarn</div><div class="line"><span class="comment"></span></div><div class="line">// 安装特定套件 (等同 npm install --save)</div><div class="line">yarn <span class="built_in">add</span> react         </div><div class="line">yarn <span class="built_in">add</span> react@<span class="number">15.3</span><span class="number">.2</span></div><div class="line"><span class="comment"></span></div><div class="line">// 更新特定套件 (等同 npm upgrade)</div><div class="line">yarn upgrade react</div><div class="line"><span class="comment"></span></div><div class="line">// 移除特定套件 (等同 npm uninstall)</div><div class="line">yarn remove react</div><div class="line"><span class="comment"></span></div><div class="line">// 新增 package.json</div><div class="line">yarn init</div><div class="line"><span class="comment"></span></div><div class="line">// 新增全域套件</div><div class="line">yarn <span class="built_in">global</span> <span class="built_in">add</span></div><div class="line"><span class="comment"></span></div><div class="line">// 跑 script</div><div class="line">yarn run</div><div class="line"><span class="comment"></span></div><div class="line">// 其他常用选项</div><div class="line"><span class="comment">--offline   (离线模式，只拉 cache)</span></div><div class="line"><span class="comment">--flat      (将套件扁平化，一個资料夹只会有一個套件)</span></div><div class="line"><span class="comment">--dev       (加入到 devDependencies)</span></div><div class="line"><span class="comment">--peer      (加入到 peerDependencies)</span></div><div class="line"><span class="comment">--optional  (加入到 optionalDependencies)</span></div></pre></td></tr></table></figure>
<h2 id="Cheat"><a href="#Cheat" class="headerlink" title="Cheat"></a>Cheat</h2><table><br><thead><tr><br><th>NPM</th><br><th>YARN</th><br><th>说明</th><br></tr></thead><br><tbody><br><tr><br><td>npm init</td><br><td>yarn init</td><br><td>初始化某个项目</td><br></tr><br><tr><br><td>npm install/link</td><br><td>yarn install/link</td><br><td>默认的安装依赖操作</td><br></tr><br><tr><br><td>npm install taco —save</td><br><td>yarn add taco</td><br><td>安装某个依赖，并且默认保存到package.</td><br></tr><br><tr><br><td>npm uninstall taco —save</td><br><td>yarn remove taco</td><br><td>移除某个依赖项目</td><br></tr><br><tr><br><td>npm install taco —save-dev</td><br><td>yarn add taco —dev</td><br><td>安装某个开发时依赖项目</td><br></tr><br><tr><br><td>npm update taco —save</td><br><td>yarn upgrade taco</td><br><td>更新某个依赖项目</td><br></tr><br><tr><br><td>npm install taco –global</td><br><td>yarn global add taco</td><br><td>安装某个全局依赖项目</td><br></tr><br><tr><br><td>npm publish/login/logout</td><br><td>yarn publish/login/logout</td><br><td>发布/登录/登出，一系列NPM Registry操作</td><br></tr><br><tr><br><td>npm run/test</td><br><td>yarn run/test</td><br><td>运行某个命令</td><br></tr><br></tbody><br></table>

<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://code.facebook.com/posts/1840075619545360/yarn-a-new-package-manager-for-javascript/" target="_blank" rel="external">Yarn: A new package manager for JavaScript</a></li>
<li><a href="https://blog.getexponent.com/yarn-a-new-program-for-installing-javascript-dependencies-44961956e728#.qf8fmeg4g" target="_blank" rel="external">Yarn: a new program for installing JavaScript dependencies</a></li>
<li><a href="https://shift.infinite.red/npm-vs-yarn-cheat-sheet-8755b092e5cc#.dcd5qeolm" target="_blank" rel="external">npm-vs-yarn-cheat-sheet</a></li>
</ul>
</div></article></div></section><footer><div class="paginator"><a href="/2016/10/13/Redux-学习笔记/" class="next">下一篇</a></div><div data-thread-key="2016/10/14/yarn-a-new-javascript-pkg/" data-title="Yarn - Javascript 新一代套件管理" data-url="http://blog.lengziyu.com/2016/10/14/yarn-a-new-javascript-pkg/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"seansun"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2015 - 2016 <a href="http://blog.lengziyu.com">lengziyu</a></p><powered>by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</powered></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>